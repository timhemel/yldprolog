# YieldProlog2

YieldProlog is a Python implementation of a Prolog engine.
It is very difficult to run multiple engines concurrently in YieldProlog, as all the predicates are stored in a class at the module level. To have multiple engines would mean to import each YP module under a different name.

This rewrite creates the engine but stores all predicates in an object instance. That way it is possible to use multiple engines simultaneously. The interface for queries was changed and as a result, the code generated by the existing YieldProlog compiler does not work with the new interface. Some small changes to the YieldProlog compiler fix this.

# Example

Let's look at the following Prolog script:

```

```

You can compile this Prolog script with:

```
compiler/compile.py script.prolog > script.py
```

# Building the compiler

You can use `antlr4` to build the prolog compiler. You will need version 4.7.2 or higher. If your system's antlr4 is older, you can download the antlr jar file from the antlr web page:

```
wget https://www.antlr.org/download/antlr-4.7.2-complete.jar
```

You will also need to install the Python runtime, for example (Python3):

```
pip3 install antlr4-python3-runtime==4.7.2
```

The `build.sh` script will then build the compiler.
 

